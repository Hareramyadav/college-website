{% extends 'base.html' %}
{% load static %}

{% block content %}
<!-- Banner section........... -->
<div class="">
    <div id="carousel" class="carousel slide" data-ride="carousel">
        <!-- <ol class="carousel-indicators">
            <li data-bs-target="#carousel" data-bs-slide-to="0" class="active"></li>
            {% for slider in banner %}
            <li data-bs-target="#carousel" data-bs-slide-to="{{slider.id}}"></li>
            {% endfor %}
        </ol> -->
        <div class="carousel-inner">
            <!-- <div class="carousel-item active">
                <div class="overlay"></div>
                <img class="d-block w-100" src="../static/images/slider-1.png" alt="First slide">
                <div class="main-slider-content carousel-caption d-md-block">
                    <h5>Lorem ipsum dolor sit amet, consectetur adipiscing elit. </h5>
                    <button type="button" class="btn button">Read More</button>
                </div>
            </div> -->
            {% for slider in banner %}
            {% if forloop.counter == 1 %}
            <div class="carousel-item active">
                {% else %}
                <div class="carousel-item">
                    {% endif %}
                    <div class="overlay"></div>
                    <img class="d-block w-100" src="{{slider.banner_image.url}}" alt="Second slide">
                    <div class="main-slider-content carousel-caption d-md-block">
                        <h5>{{slider.banner_text}}</h5>
                        <a type="button" href="{{slider.banner_link}}" class="btn button text-decoration-none">Read
                            More</a>
                    </div>
                </div>
                {% endfor %}
            </div>
        </div>
        <!-- <a class="carousel-control-prev" href="#carousel" role="button" data-bs-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        </a>
        <a class="carousel-control-next" href="#carousel" role="button" data-bs-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
        </a> -->
    </div>
</div>

<!-- About section........... -->
<div class="about-nasa d-flex justify-content-between container">
    {% for a in about %}
    <div class="about-image pe-5">
        <img src="{{a.about_image.url}}" alt="" srcset="" height="400" width="500">
    </div>
    <div class="about-content">
        <h3 class="about-nasa-heading">Why Nasa International College?</h3>
        <p class="about-text">{{a.short_desc}}</p>
        <a href="{{a.about_link}}" class="btn button text-decoration-none">Read More</a>
    </div>
    {% endfor %}
</div>

<!-- News section.................. -->
<div class="nasa-news container-fluid">
    <h3 class="nasa-info-heading container pt-3">News/Notices</h3>
    <div class="d-flex mt-3 container nasa-news-content">
        <div class="main-news col-8 pe-5 pe-md-2">
            {% for m in main_news %}
            <a href="{{m.news_link}}">
                <img src="{{m.news_image.url}}" alt="" srcset="" height="500">
            </a>
            <h3 class="mt-3 main-news-heading">
                <a href="{% url 'news' news_id=m.id %}" class="text-decoration-none text-dark">{{m.title}}</a>
            </h3>
            <h6 class="mt-2">{{m.created_at}}</h6>
            {% endfor %}
        </div>
        <div class="side-news col-4 ps-5">
            {% for s in side_news %}
            <div class="news-one">
                <a href="{{s.news_link}}">
                    <img src="{{s.news_image.url}}" alt="" srcset="" height="120">
                </a>
                <h6 class="mt-2">
                    <a href="{% url 'news' news_id=s.id %}" class="text-decoration-none text-dark">{{s.title}}</a>
                </h6>
                <h6 class="mt-2">{{s.created_at}}</h6>
            </div>
            {% endfor %}
        </div>
    </div>
</div>

<!-- Message Section............ -->
<div class="messages container-fluid">
    <h3 class="nasa-info-heading container">Message</h3>
    <div class="main-message-content d-flex container justify-content-center align-items-center">
        {% for m in messages %}
        <div class="card mx-5">
            <img src="{{m.image.url}}" class="message-image" alt="" srcset="" height="300">
            <div class="card-body message-provider text-center">
                <a type="button" class="text-decoration-none text-dark" data-bs-toggle="modal"
                    data-bs-target="#modelone">
                    <h6 class="">{{m.name}}</h6>
                    <p>{{m.position}}</p>
                </a>
            </div>
        </div>
        {% endfor %}
    </div>

    <!-- Modal -->
    {% for m in messages %}
    <div class="modal fade" id="modelone" tabindex="-1" role="dialog" aria-labelledby="modeloneTitle"
        aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="modeloneTitle">Message from {{m.position}}</h5>
                    <a class="close" data-bs-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </a>
                </div>
                <div class="modal-body">
                    {{m.long_desc}}
                </div>
            </div>
        </div>
    </div>
    {% endfor %}
</div>

<!-- gallery section........... -->
<div class="nasa-gallery container-fluid">
    <h3 class="mb-3 nasa-info-heading">Nasa Gallery</h3>
    <div class="d-flex justify-content-between container nasa-gallery-content">
        <div class="card mx-3 image-gallery">
            <a href="#" class="text-decoration-none ms-auto p-2">View all<i class="fas fa-angle-right ms-2"></i></a>
            <div class="card-body">
                <div id="imagecarousel" class="carousel slide" data-bs-ride="imagecarousel">
                    <!-- <ol class="carousel-indicators">
                        <li data-bs-target="#carousel" data-bs-slide-to="0" class="active"></li>
                        {% for i in image %}
                        <li data-bs-target="#carousel" data-bs-slide-to="{{i.id}}"></li>
                        {% endfor %}
                    </ol> -->
                    <div class="carousel-inner">
                        <div class="carousel-item active">
                            <img class="d-block w-100" src="../static/images/slider-1.png" alt="slide">
                        </div>
                        {% for i in image %}
                        <div class="carousel-item">
                            <img class="d-block w-100" src="{{i.media.url}}" alt="slide">
                        </div>
                        {% endfor %}
                    </div>
                    <a class="carousel-control-prev" href="#imagecarousel" role="button" data-bs-slide="prev">
                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    </a>
                    <a class="carousel-control-next" href="#imagecarousel" role="button" data-bs-slide="next">
                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    </a>
                </div>
            </div>
        </div>
        <div class="card video-gallery">
            <a href="#" class="text-decoration-none ms-auto p-2">Watch More<i class="fas fa-angle-right ms-2"></i></a>
            <div class="card-body">
                <div id="videocarousel" class="carousel slide" data-bs-ride="videocarousel">
                    <ol class="carousel-indicators">
                        <li data-bs-target="#carousel" data-bs-slide-to="0" class="active"></li>
                        {% for v in video %}
                        <li data-bs-target="#carousel" data-bs-slide-to="{{v.id}}"></li>
                        {% endfor %}
                    </ol>
                    <div class="carousel-inner">
                        <div class="carousel-item active">
                            <iframe width="600" height="265" src="https://www.youtube.com/embed/4w1SOYYFreU"
                                allowfullscreen></iframe>
                        </div>
                        {% for v in video %}
                        <div class="carousel-item">
                            <iframe width="600" height="265" src="{{v.video_url}}" allowfullscreen></iframe>
                        </div>
                        {% endfor %}
                    </div>
                    <a class="carousel-control-prev" href="#videocarousel" role="button" data-bs-slide="prev">
                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    </a>
                    <a class="carousel-control-next" href="#videocarousel" role="button" data-bs-slide="next">
                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Blog section................ -->
<div class="container-fluid blog mt-5">
    <a href="{% url 'blogs' %}" class="text-decoration-none ms-auto">Read all<i class="fas fa-angle-right ms-2"></i></a>
    <div class="d-flex">
        {% for b in blog %}
        <div class="card d-flex flex-row justify-content-between px-2 py-2 me-3 align-items-center">
            <div class="card-text">
                <h3>{{b.blog_title}}</h3>
                <p>{{b.created_at}}</p>
                <p>{{b.short_desc}}</p>
                <a href="{% url 'blogs' blog_id=b.id %}">Continue Reading</a>
            </div>
            <div class="card-image">
                <img src="{{b.blog_image.url}}" alt="" srcset="" height="200">
            </div>
        </div>
        {% endfor %}
    </div>
</div>

<!-- Testimonial section................. -->
<div class="testimonial">
    <h3 class="nasa-info-heading container mb-3">Testimonial</h3>
    <a href="{% url 'testimonials' %}" class="text-decoration-none container m-auto">View all<i class="fas fa-angle-right ms-2"></i></a>
    <div id="testimonial" class="carousel slide" data-bs-ride="testimonial">
        <ol class="carousel-indicators">
            {% for t in range %}
            <li data-bs-target="#testimonial" data-bs-slide-to="{{t}}" class="active"></li>
            {% endfor %}
        </ol>
        <div class="carousel-inner container">
            <div class="carousel-item active">
                {% for t in testimonial|slice:":" %}
                <div class="card mx-2">
                    <div class="card-body d-flex justify-content-center align-items-center testimonial-container">
                        <div class="student-detail">
                            <div class="student-image d-flex flex-column">
                                <img class="" src="{{t.student_image.url}}" alt="First slide">
                                <h5 class="student-name">{{t.student_name}}</h5>
                            </div>
                            <p class="text-center">{{t.short_message}} <a class="text-decoration-none" href="{% url 'testimonials' test_id=t.id %}">Read
                                    More</a>
                            </p>
                        </div>
                    </div>
                </div>
                {% if forloop.counter|divisibleby:3 and forloop.counter > 0 and not forloop.last %}
            </div>
            <div class="carousel-item">
                {% endif %}
                {% endfor %}
            </div>
        </div>
        <a class="carousel-control-prev" href="#testimonial" role="button" data-bs-slide="prev">
            <span><i class="fas fa-angle-left text-dark fs-1"></i></span>
        </a>
        <a class="carousel-control-next" href="#testimonial" role="button" data-bs-slide="next">
            <span><i class="fas fa-angle-right text-dark fs-1"></i></span>
        </a>
    </div>
</div>

{% endblock %}